<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>SUNNY'S PLAYSTATION // CORE</title>
    <style>
        :root {
            --bg: #050505; --txt: #d1d1d1; --acc: #7a8cff; --warn: #ff4d4d; --dim: #4a5481;
        }
        body { background: var(--bg); color: var(--txt); font-family: 'Courier New', monospace; display: flex; justify-content: center; line-height: 1.4; margin: 0; }
        main { padding: 40px 20px; max-width: 850px; width: 100%; }
        
        /* Estilo Anexo */
        .attachment { 
            background: #0a0a0a; border: 1px solid #1a1a1a; border-left: 4px solid var(--acc); 
            padding: 20px; margin: 20px 0; position: relative; box-shadow: 10px 10px 0px #000;
        }
        .attachment::after { content: "DECRYPTED_DATA"; position: absolute; top: -10px; right: 10px; background: var(--bg); color: var(--dim); font-size: 10px; padding: 0 5px; }

        .line { margin-bottom: 8px; white-space: pre-wrap; }
        .system { color: var(--acc); }
        .warning { color: var(--warn); }
        .dim { color: var(--dim); }
        .secret-code { color: #3e4a89; font-weight: bold; } /* CÃ³digos "invisÃ­veis" */

        /* DiretÃ³rio */
        #directory { border-bottom: 1px solid var(--dim); padding-bottom: 10px; margin-bottom: 20px; display: flex; gap: 15px; font-size: 12px; }
        .file-status { cursor: pointer; text-decoration: none; color: var(--dim); }
        .file-status.unlocked { color: var(--acc); text-decoration: underline; }
        .file-status.locked::before { content: "ðŸ”’ "; }

        /* Input Group */
        .console-input { display: flex; background: #0c0c0c; border: 1px solid #1a1a1a; padding: 5px; margin-top: 20px; }
        input { background: transparent; border: none; color: var(--acc); font-family: inherit; outline: none; flex-grow: 1; padding: 10px; }
        button { background: #1a1a1a; border: 1px solid #333; color: #888; cursor: pointer; font-family: inherit; padding: 0 20px; }
        button:hover { background: var(--acc); color: #000; }

        #output { margin-top: 20px; }
    </style>
</head>
<body>

<main>
    <div id="header-terminal"></div>

    <div id="directory">
        <span class="dim">SISTEMA:</span>
        <span id="file01" class="file-status locked">[ARQUIVO_01]</span>
        <span id="file02" class="file-status locked">[ARQUIVO_02]</span>
        <span id="file03" class="file-status locked">[ARQUIVO_03]</span>
    </div>

    <div class="console-input">
        <input type="text" id="password" placeholder="INSERIR CREDENCIAL..." autocomplete="off">
        <button onclick="handleInput()">ENTER</button>
    </div>

    <div id="output"></div>
</main>

<script>
const passwordInput = document.getElementById("password");
const out = document.getElementById("output");
const headerTerm = document.getElementById("header-terminal");

let isTyping = false;

const lore = {
    "continua": {
        id: "file01",
        title: "ARQUIVO_01 â€” REGISTRO DE TESTE",
        status: "ENCERRAMENTO INCONCLUSIVO",
        type: "system",
        content: [
            "A Sunnyâ€™s Playstation iniciou os primeiros testes com o Ser para mapear limites fÃ­sicos. NÃ£o havia funÃ§Ã£o atribuÃ­da aos sujeitos alÃ©m da coleta de dados.",
            "Os testes focavam em coisas isoladas: altura mÃ¡xima suportÃ¡vel, velocidade antes da perda de controle, forÃ§a sem colapso estrutural.",
            "Animais foram utilizados na fase inicial. Resultados inconsistentes. Sujeitos humanos jovens apresentaram maior compatibilidade _L-olkl8F2s .",
            "ApÃ³s a coleta, o encerramento padrÃ£o foi executado. O corpo respondeu conforme previsto. Entretanto, o estado interno do experimento permaneceu ativo.",
            "O sistema manteve o registro aberto por falha de descarte. O teste nÃ£o foi considerado finalizado. ObservaÃ§Ã£o: O processo continua mesmo apÃ³s a interrupÃ§Ã£o fÃ­sica."
        ]
    },
    "ativo": {
        id: "file02",
        title: "ARQUIVO_02 â€” REGISTRO FUNCIONAL",
        status: "ATIVO SEM ATRIBUIÃ‡ÃƒO",
        type: "system",
        content: [
            "Com a recorrÃªncia de falhas, novos experimentos foram ajustados para funÃ§Ãµes prÃ¡ticas. Esses sujeitos existiam para executar tarefas.",
            "Testadas capacidades de: observaÃ§Ã£o prolongada, resposta a comandos, auxÃ­lio laboratorial. Experimentos X apresentaram estabilidade superior.",
            "Quando a funÃ§Ã£o deixou de ser necessÃ¡ria, o encerramento foi solicitado. O desligamento fÃ­sico ocorreu normalmente.",
            "O sistema continuou registrando respostas residuais [REF: 0x49525245564552534956454C]. A consciÃªncia nÃ£o foi detectada de forma convencional, mas o experimento reagia.",
            "O estado foi mantido como ativo. Nota interna: A separaÃ§Ã£o completa entre Ser e alma nÃ£o foi alcanÃ§ada."
        ]
    },
    "irreversivel": {
        id: "file03",
        title: "ARQUIVO_03 â€” AVALIAÃ‡ÃƒO FINAL",
        status: "IRREVERSÃVEL",
        type: "warning",
        content: [
             "O procedimento serÃ¡ iniciado pela equipe amanhÃ£.",
             "A otimizaÃ§Ã£o dos ciclos experimentais reduziu significativamente a probabilidade de resultados indesejados, assegurando maior confiabilidade.",
             "A etapa conclusiva requer a integraÃ§Ã£o de trÃªs adolecentes.",
             "Em seguida, a Sunnyâ€™s Playstation serÃ¡ expandida para acesso global, permitindo a entrada de crianÃ§as e seus responsaveis."
        ]
    }
};

async function typeEffect(target, text, className = "", delay = 10) {
    const div = document.createElement("div");
    div.className = "line " + className;
    target.appendChild(div);
    for (let char of text) {
        div.innerText += char;
        await new Promise(r => setTimeout(r, delay));
    }
}

async function bootSequence() {
    await typeEffect(headerTerm, "SISTEMA DE ARQUIVOS SUNNY'S PLAYSTATION [V.4.0]", "system", 20);
    // Fragmentos do Arquivo 01 aparecendo no boot
    await typeEffect(headerTerm, ">> ERROR: Limites_fÃ­sicos_bÃ¡sicos detectados no buffer.", "dim");
    await typeEffect(headerTerm, ">> WARNING: Sujeitos_jovens_compatibilidade_alerta.", "dim");
    await typeEffect(headerTerm, "Localizando God Core... O processo ainda se mantÃ©m em fluxo.", "dim");
}

async function showFile(key) {
    if (isTyping) return;
    isTyping = true;
    out.innerHTML = "";
    
    const data = lore[key];
    const el = document.getElementById(data.id);
    el.classList.add("unlocked");
    el.classList.remove("locked");
    el.onclick = () => showFile(key);

    const attach = document.createElement("div");
    attach.className = "attachment";
    out.appendChild(attach);

    await typeEffect(attach, data.title, "system bold");
    await typeEffect(attach, "STATUS: " + data.status, data.type);
    
    for (let p of data.content) {
        await new Promise(r => setTimeout(r, 300));
        // Adiciona cÃ³digos secretos em azul no meio do texto
        let modText = p.replace(/\[ID: .*?\]|\[REF: .*?\]/g, (match) => `<span class="secret-code">${match}</span>`);
        const pDiv = document.createElement("div");
        pDiv.className = "line";
        pDiv.innerHTML = "";
        attach.appendChild(pDiv);
        
        // Efeito de digitaÃ§Ã£o para texto com HTML
        let tempText = p.replace(/\[ID: .*?\]|\[REF: .*?\]/g, "â–ˆ".repeat(12));
        for (let char of p) {
            pDiv.innerText += char; // Simplificado para performance com o texto longo
            await new Promise(r => setTimeout(r, 2));
        }
        pDiv.innerHTML = modText; // Aplica o destaque no final
    }
    isTyping = false;
}

function handleInput() {
    const pass = passwordInput.value.toLowerCase().trim();
    if (lore[pass]) {
        showFile(pass);
        passwordInput.value = "";
    } else {
        const err = document.createElement("div");
        err.className = "line warning";
        err.innerText = "!! ACESSO NEGADO !!";
        out.prepend(err);
        setTimeout(() => err.remove(), 2000);
    }
}

passwordInput.addEventListener("keypress", e => { if (e.key === "Enter") handleInput(); });
window.onload = bootSequence;
</script>
</body>
</html>
